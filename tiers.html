<html>
<body>
<script type="text/javascript">
if (window.XMLHttpRequest){
	var xmlhttp = new XMLHttpRequest();
}
else{
	var xmlhttp = new ActiveXObject("Microsoft.XMLHTTP");
}
xmlhttp.open("GET","tiers.xml",false);
xmlhttp.send();
var tiersfile = xmlhttp.responseXML; 
var categories = tiersfile.childNodes[0].getElementsByTagName("category"), categorieslist = "", tierslist = "", tierscount = tiersfile.childNodes[0].getElementsByTagName("tier").length;
for (i=0;i<categories.length;i++){
	if (categories[i].parentNode.parentNode.nodeName !== "category"){
		var tiers = categories[i].getElementsByTagName("tier"), categorycount = tiers.length;
		categorieslist += "<th>" + categories[i].getAttribute("name") + " (" + categorycount + ")</th>";
		tierslist += "<td>"
		for (j=0;j<tiers.length;j++){
			var tiername = tiers[j].getAttribute("name");
			tierslist += "<form action='tierinfo.php?tier=" + encodeURI(tiername) + "' method='post'><input type='submit' value='" + tiername + "'></form>";
		}
		tierslist += "</td>";
	}
}
var display = "<center><h1>Tiers (" + tierscount + ")</h1></center>"
+ "<table width='100%'>"
+ "<tr valign='top' align='left'>" + categorieslist + "</tr>"
+ "<tr valign='top' align='left'>" + tierslist + "</tr>" 
+ "</table>";
document.write(display);
</script>
</body>
</html>